var x=Object.defineProperty;var v=(e,t,n)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var s=(e,t,n)=>v(e,typeof t!="symbol"?t+"":t,n);var a=class{constructor(t){s(this,"output");s(this,"input");s(this,"promptEl");s(this,"username");s(this,"host");s(this,"cwd");s(this,"history",[]);s(this,"historyIndex",0);s(this,"commands",new Map);s(this,"maxLines",500);this.output=t.output,this.input=t.input,this.promptEl=t.prompt,this.username=t.username,this.host=t.host,this.cwd=t.cwd,this.bind()}bind(){this.input.addEventListener("keydown",t=>{if(t.key==="Enter"){let n=this.input.value.trim();this.execute(n),this.input.value=""}else t.key==="ArrowUp"?(this.historyIndex>0&&(this.historyIndex--,this.input.value=this.history[this.historyIndex],setTimeout(()=>this.input.setSelectionRange(this.input.value.length,this.input.value.length),0)),t.preventDefault()):t.key==="ArrowDown"?(this.historyIndex<this.history.length-1?(this.historyIndex++,this.input.value=this.history[this.historyIndex]):(this.historyIndex=this.history.length,this.input.value=""),t.preventDefault()):t.key==="Tab"&&(t.preventDefault(),this.autocomplete())})}renderPrompt(){this.promptEl.textContent=`${this.username}@${this.host} ${this.cwd} >`}println(t="",n){let i=document.createElement("div");i.className="line"+(n?` ${n}`:""),i.textContent=t,this.output.appendChild(i),this.trim(),this.output.scrollTop=this.output.scrollHeight}printPromptLine(t){let n=document.createElement("div");n.className="line",n.innerHTML=`<span class="prompt-frag">${this.username}@${this.host} ${this.cwd} ></span> ${E(t)}`,this.output.appendChild(n),this.trim()}trim(){for(;this.output.children.length>this.maxLines;)this.output.removeChild(this.output.firstChild)}register(t){t.forEach(n=>this.commands.set(n.name,n))}autocomplete(){let t=this.input.value.trim(),n=[...this.commands.keys()].filter(i=>i.startsWith(t));n.length===1?this.input.value=n[0]+" ":n.length>1&&this.println(n.join("  "))}async execute(t){if(!t){this.println();return}this.printPromptLine(t),this.history.push(t),this.historyIndex=this.history.length;let[n,...i]=t.split(/\s+/),r=this.commands.get(n);if(!r){this.println(`Command not found: ${n}`,"error");return}try{let o=await r.run(i,this);o&&o.lines&&o.lines.forEach(h=>this.println(h.text,h.className))}catch(o){this.println(o.message||"Error executing command","error")}}};function E(e){return e.replace(/[&<>"']/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[t])}var d="themePreference";function m(e){let t=document.documentElement;e==="auto"?t.setAttribute("data-theme","auto"):t.setAttribute("data-theme",e),localStorage.setItem(d,e)}function g(){let e=localStorage.getItem(d);m(e||"auto")}var f={name:"theme",description:"Set theme (light|dark|auto)",run:e=>{let t=(e[0]||"").toLowerCase();return t?["light","dark","auto"].includes(t)?(m(t),{lines:[{text:`Theme set to ${t}.`}]}):{lines:[{text:"Invalid mode."}]}:{lines:[{text:"Usage: theme <light|dark|auto>"}]}}};var p="gh_repos_cache_v1";function C(){try{let e=localStorage.getItem(p);if(!e)return null;let t=JSON.parse(e);return Date.now()-t.time>216e5?null:t.data}catch{return null}}function w(e){localStorage.setItem(p,JSON.stringify({time:Date.now(),data:e}))}async function T(){let e=C();if(e)return e;let t=await fetch("https://api.github.com/users/maker2413/repos?per_page=100");if(!t.ok)throw new Error("GitHub fetch failed");let i=(await t.json()).filter(r=>!r.name.startsWith(".")).sort((r,o)=>o.stargazers_count-r.stargazers_count).slice(0,10);return w(i),i}var y={name:"github",description:"List top repositories (cached)",run:async e=>{e[0]==="--refresh"&&localStorage.removeItem(p);try{let n=(await T()).map(i=>({text:`${i.name.padEnd(22)} \u2605${i.stargazers_count.toString().padEnd(3)} ${i.description?i.description.substring(0,60):""}`}));return{lines:[{text:"Top Repos:"},...n,{text:"Use 'open <repo>' (future) or visit GitHub."}]}}catch(t){return{lines:[{text:t.message||"Error loading repos",className:"error"}]}}}};var b={name:"about",description:"Short professional summary",run:()=>({lines:[{text:"DevOps & Software Engineer focusing on automation, reliability, and clean tooling."}]})},L={name:"help",description:"List available commands",run:(e,t)=>({lines:[{text:"Commands:"},...c.map(n=>({text:`  ${n.name.padEnd(10)} ${n.description}`}))]})},k={name:"clear",description:"Clear the screen",run:(e,t)=>(t.output.innerHTML="",{lines:[]})},S={name:"contact",description:"Show contact info",run:()=>({lines:[{text:"Email: ethancpost@gmail.com"}]})},I={name:"links",description:"List external links",run:()=>({lines:[{text:"GitHub: https://www.github.com/maker2413"},{text:"Notes : https://notes.ethancpost.com"},{text:"Blog  : https://blog.ethancpost.com"},{text:"Resume: Content/Resume.pdf"},{text:"Emacs : https://emacs.ethancpost.com"}]})},M={name:"resume",description:"Open resume PDF",run:()=>(window.open("Content/Resume.pdf","_blank"),{lines:[{text:"Opening resume..."}]})},H={name:"whoami",description:"Display user",run:()=>({lines:[{text:"ethan"}]})},$={name:"date",description:"Show current date/time",run:()=>({lines:[{text:new Date().toString()}]})},_={name:"uname",description:"System info",run:()=>({lines:[{text:"PortfolioOS 1.0 (js-browser)"}]})},R={name:"echo",description:"Echo arguments",run:e=>({lines:[{text:e.join(" ")}]})},D={name:"story",description:"Legacy long-form text placeholder",run:()=>({lines:[{text:"Original narrative preserved; will integrate via pager later."}]})},O={name:"sudo",description:"Try elevated magic",run:e=>({lines:[{text:`Nice try${e.length?" ("+e.join(" ")+")":""}. You already have sufficient privileges.`}]})},N={name:"neofetch",description:"Show system summary",run:()=>({lines:[{text:"ethan@portfolio"},{text:"--------------"},{text:"Role: DevOps / Software Engineer"},{text:"Shell: fish (emulated)"},{text:"Editor: emacs"},{text:"Theme: Adwaita (auto)"},{text:"Favorite: Open source tinkering"}]})},P={name:"make",description:"Easter egg build",run:e=>({lines:[{text:`make: *** No rule to make target '${e[0]||""}'. Stop.`}]})},A=f,c=[L,k,b,D,I,M,S,y,H,$,_,R,A,N,O,P];var j=document.getElementById("terminal"),B=document.getElementById("terminal-output"),u=document.getElementById("terminal-input"),z=document.getElementById("prompt");g();var l=new a({output:B,input:u,prompt:z,username:"ethan",host:"portfolio",cwd:"~"});l.register(c);l.println("Welcome. Type 'help' to begin.");l.renderPrompt();j.addEventListener("click",()=>u.focus());window.addEventListener("keydown",e=>{e.key==="Escape"&&u.blur()});
//# sourceMappingURL=main.js.map
